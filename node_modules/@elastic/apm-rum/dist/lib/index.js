"use strict";

exports.__esModule = true;
exports.apm = exports.apmBase = exports.init = exports.default = void 0;

var _bootstrap = _interopRequireDefault(require("./bootstrap"));

var _apmRumCore = require("@elastic/apm-rum-core");

var _apmBase = _interopRequireDefault(require("./apm-base"));

exports.ApmBase = _apmBase.default;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var enabled = (0, _bootstrap.default)();
var serviceFactory = (0, _apmRumCore.createServiceFactory)();
var apmBase = new _apmBase.default(serviceFactory, !enabled);
exports.apm = exports.apmBase = apmBase;

if (typeof window !== 'undefined') {
  window.elasticApm = apmBase;
}

var init = apmBase.init.bind(apmBase);
exports.init = init;
var _default = init;
exports.default = _default;